# PRD: iOS AI 人像相机（云端实时指导 + Pose 教练）

## 1. 定位
面向女性用户的实时摄影教练相机：打开即给可执行指令（角度/构图/光线/距离），画面有人时同步指导 Pose。支持后置拍人 + 前置自拍教练；支持 5 种风格并提供端侧实时滤镜预览。

## 2. V1 必做（实现）
- 云端为主的实时指导（低分辨率/低帧率帧流 -> 结构化建议回传）
- 端侧实时预览滤镜（5 风格：自然松弛/清冷高级/甜酷/复古胶片/港风夜景）
- 后置拍人：双向指导（拍摄者怎么移动手机 + 被拍者怎么摆 Pose）
- 前置自拍教练：手持自拍 + 放置自拍（桌面/支架）
- Pose：每风格 6 个模板（共 30 个），每个 3-5 步动作，达标反馈“OK 可拍”
- 语音提示默认开启：只播主建议（节流 + 冷却），一键静音，提示密度（少/中/多）
- 新手引导：30-60 秒交互式，可跳过，可复看
- 拍后轻复盘：仅 2-3 条可执行建议 + 一键重拍（锁定风格+Pose）
- 弱网/断网降级：不阻塞取景与拍照；保留网格/水平仪/基础亮度提示/静态 Pose 教程
- 埋点：onboarding/camera/guidance/outcome/privacy

## 3. V1 不做（明确不实现）
- 港风夜景的长曝光/手动快门/ISO/RAW、多帧降噪堆栈、专业级防抖
- 视频拍摄与视频实时指导
- 多人合照的逐人精细 Pose 校正与复杂站位编排
- 高级修图（磨皮瘦脸、五官重塑、发丝级分割、背景替换）
- 社区/模板商店/内容流
- 语音输入（用户对 App 讲话指挥）

## 4. 后端（联调骨架）
V1 后端先提供稳定的联调接口与会话能力，AI 推理逻辑后续替换为真实模型服务。

### 4.1 接口（草案）
- `GET /healthz`
- `GET /v1/styles`
- `POST /v1/guidance`（单次请求/响应）
- `WS /v1/guidance/ws`（流式实时建议）

### 4.2 模型与 Agent（V1 明确决策）
- 实时指导主链路：CV 模型 + 策略/规则引擎（端侧轻量兜底，云端增强），输出结构化建议；不以 LLM 作为实时推理核心。
- LLM（可选）：仅用于话术/语音文案与拍后 2-3 条复盘建议生成；不输入原始帧，仅输入结构化信号；建议选小模型控时延/成本（如 `gpt-4o-mini` 或同档 / 自托管可选 `Qwen2.5-7B-Instruct` 级别）。
- Agent：V1 不需要。若后续做“用户主动问答/教学”或“后台批量生成内容”，再引入非实时 Agent。
